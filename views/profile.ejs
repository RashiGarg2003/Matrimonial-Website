<%- include ('partials/header') %>
<div class="profile-header">
  <h1>Welcome, <%= user.name %></h1>
  <% if (user.profilePic) { %>
    <img src="/<%= user.profilePic %>" alt="Profile Picture" class="img-thumbnail">
  <% } %>
</div>
<form action="/profile" method="POST" enctype="multipart/form-data" class="form-profile">
  <div class="form-group">
    <label for="age">Age</label>
    <input type="number" name="age" id="age" class="form-control" value="<%= user.profile.age %>" required>
  </div>
  <div class="form-group">
    <label for="gender">Gender</label>
    <input type="text" name="gender" id="gender" class="form-control" value="<%= user.profile.gender %>" required>
  </div>
  <div class="form-group">
    <label for="bio">Bio</label>
    <textarea name="bio" id="bio" class="form-control" required><%= user.profile.bio %></textarea>
  </div>
  <div class="form-group">
    <label for="interests">Interests</label>
    <input type="text" name="interests" id="interests" class="form-control" value="<%= user.profile.interests.join(', ') %>" required>
  </div>
  <div class="form-group">
    <label for="profilePic">Profile Picture</label>
    <input type="file" name="profilePic" id="profilePic" class="form-control-file">
  </div>
  <div class="form-check">
    <input type="checkbox" name="showProfile" id="showProfile" class="form-check-input" <%= user.privacy.showProfile ? 'checked' : '' %>>
    <label for="showProfile" class="form-check-label">Show my profile</label>
  </div>
  <button type="submit" class="btn btn-primary">Update Profile</button>
</form>
<a href="/profile/browse" class="btn btn-secondary mt-3">Browse Profiles</a>
<a href="/profile/matches" class="btn btn-secondary mt-3">View Matches</a>
<%- include ('partials/footer') %>